<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Besparen met 17% bijtelling</title>
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Work Sans', sans-serif;
      background: #f9f9f9;
      padding: 32px;
    }

    .container {
      max-width: 1000px;
      background: #ffffff;
      padding: 32px;
      border-radius: 8px;
      border: 1px solid #ddd;
      margin: 0 auto;
    }

    h2, h4 {
      color: #000;
    }

    .highlight, .savings {
      background: #FFEB6D;
      padding: 16px;
      border-radius: 6px;
      margin-bottom: 16px;
    }

    label {
      font-weight: 600;
      display: block;
      margin-bottom: 8px;
    }

    .charts {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      justify-content: center;
    }

    canvas {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 16px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Besparen met 17% bijtelling</h2>
    <p>
      In 2025 betaal je 17% bijtelling over de eerste â‚¬30.000 van de cataloguswaarde van een elektrische auto. Alles daarboven wordt belast met 22%. 
      Vanaf 2026 geldt 22% bijtelling over het volledige bedrag. Hieronder zie je het verschil in kosten tussen beide jaren.
    </p>

    <label for="prijs">Kies een catalogusprijs:</label>
    <input type="range" id="prijs" min="20000" max="60000" value="30000" step="1" oninput="updateBijtelling()" style="width: 100%; margin-bottom: 8px;">
    <p>Catalogusprijs: <strong>â‚¬<span id="prijsValue">30.000</span></strong></p>

    <div class="highlight">
      <h4>Netto bijtelling per maand</h4>
      <p>ðŸŸ¡ <strong>2025 (17%):</strong> â‚¬<span id="bijtelling2025">---</span></p>
      <p>âš« <strong>Vanaf 2026 (22%):</strong> â‚¬<span id="bijtelling2026">---</span></p>
    </div>

    <div class="savings">
      <h4>Totale besparing als je in 2025 kiest</h4>
      <ul style="padding-left: 20px; margin: 0;">
        <li>Na 1 jaar: â‚¬<span id="bespaar1">---</span></li>
        <li>Na 5 jaar: â‚¬<span id="bespaar5">---</span></li>
      </ul>
    </div>

    <div class="charts">
      <div>
        <h4>Besparing na 1 jaar</h4>
        <canvas id="chart1jaar" width="400" height="300"></canvas>
      </div>
      <div>
        <h4>Besparing na 5 jaar</h4>
        <canvas id="chart5jaar" width="400" height="300"></canvas>
      </div>
    </div>
  </div>

  <script>
    const belastingTarief = 0.406;

    function formatEuro(value) {
      return value.toLocaleString('nl-NL', { minimumFractionDigits: 0 });
    }

    function updateBijtelling() {
      const prijs = parseInt(document.getElementById("prijs").value);
      const deel17 = Math.min(prijs, 30000) * 0.17;
      const deel22 = prijs > 30000 ? (prijs - 30000) * 0.22 : 0;

      const totaal2025 = (deel17 + deel22) * belastingTarief;
      const totaal2026 = prijs * 0.22 * belastingTarief;

      const maand2025 = totaal2025 / 12;
      const maand2026 = totaal2026 / 12;

      const besparing1jaar = (maand2026 - maand2025) * 12;
      const besparing5jaar = (maand2026 - maand2025) * 60;

      document.getElementById("prijsValue").innerText = formatEuro(prijs);
      document.getElementById("bijtelling2025").innerText = Math.round(maand2025);
      document.getElementById("bijtelling2026").innerText = Math.round(maand2026);
      document.getElementById("bespaar1").innerText = formatEuro(Math.round(besparing1jaar));
      document.getElementById("bespaar5").innerText = formatEuro(Math.round(besparing5jaar));

      chart1jaar.data.datasets[0].data = [Math.round(maand2025 * 12), Math.round(maand2026 * 12)];
      chart1jaar.update();

      chart5jaar.data.datasets[0].data = [Math.round(maand2025 * 60), Math.round(maand2026 * 60)];
      chart5jaar.update();
    }

    let chart1jaar, chart5jaar;

    document.addEventListener("DOMContentLoaded", function () {
      const ctx1 = document.getElementById('chart1jaar').getContext('2d');
      const ctx5 = document.getElementById('chart5jaar').getContext('2d');

      chart1jaar = new Chart(ctx1, {
        type: 'bar',
        data: {
          labels: ['2025 (17%)', 'Vanaf 2026 (22%)'],
          datasets: [{
            label: 'Jaarlijkse bijtelling',
            backgroundColor: ['#FFEB6D', '#000'],
            data: [0, 0]
          }]
        },
        options: {
          responsive: false,
          plugins: {
            legend: { display: false },
          },
          scales: {
            y: { beginAtZero: true }
          }
        }
      });

      chart5jaar = new Chart(ctx5, {
        type: 'bar',
        data: {
          labels: ['2025 (17%)', 'Vanaf 2026 (22%)'],
          datasets: [{
            label: 'Totale bijtelling over 5 jaar',
            backgroundColor: ['#FFEB6D', '#000'],
            data: [0, 0]
          }]
        },
        options: {
          responsive: false,
          plugins: {
            legend: { display: false },
          },
          scales: {
            y: { beginAtZero: true }
          }
        }
      });

      updateBijtelling();
    });
  </script>
</body>
</html>
